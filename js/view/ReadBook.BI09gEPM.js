import{d as L,r as i,j as S,w as V,c as m,P as g,ag as C,H as N,n as K,O as G,a6 as R,o as f,D as T,M as b,a as _,a4 as M,L as B,k as H}from"../@vue/@vue.vQmY6rJt.js";import{r as A,a as j,g as q}from"../request/request.DsXktua-.js";import{_ as $}from"../../index.1V_XBf00.js";import{E as y}from"../element-plus/element-plus.CJ7pwcEu.js";import"../axios/axios.DW_MHI2K.js";import"../pinia/pinia.C0r6q3D3.js";import"../vue-router/vue-router.C0Vq0w_y.js";import"../lodash-es/lodash-es.C-xrcuFl.js";import"../@vueuse/@vueuse.E_7_Xdgt.js";import"../@element-plus/@element-plus.BfVkg9fp.js";import"../@popperjs/@popperjs.DB1lLFnh.js";import"../@ctrl/@ctrl.r5W6hzzQ.js";import"../dayjs/dayjs.BC8lxUvW.js";import"../async-validator/async-validator.CRx4dHSJ.js";import"../memoize-one/memoize-one.BdPwpGay.js";import"../normalize-wheel-es/normalize-wheel-es.BQoi3Ox2.js";import"../@floating-ui/@floating-ui.BCLhozDd.js";const z=(u,o)=>A(u,"GET",o),F=(u,o)=>A(u,"GET",o),O={class:"catalog-box"},U=["onClick"],Y=L({__name:"CatalogList",props:{articleNameList:{},page:{}},emits:["sendPage"],setup(u,{emit:o}){const p=u,t=o,l=i(),d=i(1),r=s=>{t("sendPage",s),d.value=s.page},v=async()=>{await K(),console.log("logRef.value--->",l.value),l.value&&(console.log("滚动"),l.value?.scrollBy({top:-50,behavior:"smooth"}))};return S(()=>{v()}),V(()=>p.page,s=>{d.value=s}),(s,w)=>{const h=C("el-scrollbar");return f(),m("div",O,[g(h,{height:"80%"},{default:N(()=>[(f(!0),m(G,null,R(s.articleNameList,n=>(f(),m("div",{class:T(["log",d.value===n.page?"activeBox":""]),key:n.page,onClick:x=>r(n)},b("第"+n.page+"章："+n.title),11,U))),128))]),_:1})])}}}),J=$(Y,[["__scopeId","data-v-5e0ae8f7"]]),Q={class:"get-article"},W={class:"top"},X={class:"catalog"},P="page_article",Z=L({__name:"getArticle",emits:["sendData"],setup(u,{emit:o}){const p=o,t=i(1),l=i("1"),d=i(),r=i([]),v=()=>{l.value=t.value.toString()},s=async a=>{try{const e=await z("/get/article",{page:a});if(e.code===1e4)return e.data}catch(e){console.error("Error reading file:",e)}return{title:"获取失败",content:"获取失败",pageNumber:t.value}},w=a=>{const e=a.target.value;let c=parseInt(e,10);isNaN(c)?(c=1,y.warning("请输入有效的数字")):c<1?(c=1,y.warning("页码不能小于1")):y.success(`当前页码为 ${c}`),t.value=c,n(t.value)},h=async a=>{if(t.value<=1&&a===-1){y.warning("已经是第一页了");return}t.value=t.value+a,n(t.value)};async function n(a){v();const e=await s(a);d.value=e,p("sendData",e),j(P,a.toString())}function x(){t.value=q(P),n(t.value)}const E=async()=>{const a=await F("/get/article/names");a.code===1e4&&(r.value=a.data)},D=a=>{t.value=a.page,n(a.page)};return S(()=>{x(),E(),console.log("000--->",t.value)}),(a,e)=>{const c=C("el-button"),I=C("el-input");return f(),m("div",Q,[_("div",W,[g(c,{onClick:e[0]||(e[0]=k=>h(-1))},{default:N(()=>e[3]||(e[3]=[B("<")])),_:1}),g(I,{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=k=>l.value=k),class:"input",onKeydown:M(w,["enter"]),onChange:v},null,8,["modelValue"]),g(c,{onClick:e[2]||(e[2]=k=>h(1))},{default:N(()=>e[4]||(e[4]=[B(">")])),_:1})]),_("div",X,[g(J,{articleNameList:r.value,page:t.value,onSendPage:D},null,8,["articleNameList","page"])])])}}}),ee=$(Z,[["__scopeId","data-v-98618b2d"]]),te={class:"read-box"},ae={class:"setting"},oe={class:"read"},se=L({__name:"ReadBook",setup(u){const o=i("选择章节"),p=i(""),t=i(0),l=r=>{o.value=r.content,p.value=r.title,t.value=r.pageNumber},d=H(()=>p.value?`第${t.value}章: ${p.value}`:"选择章节");return(r,v)=>{const s=C("el-scrollbar");return f(),m("div",te,[_("div",ae,[g(ee,{onSendData:l})]),_("div",oe,[g(s,{height:"100%"},{default:N(()=>[_("h2",null,b(d.value),1),_("pre",null,b(o.value),1)]),_:1})])])}}}),ke=$(se,[["__scopeId","data-v-27f3c4fe"]]);export{ke as default};
//# sourceMappingURL=ReadBook.BI09gEPM.js.map
