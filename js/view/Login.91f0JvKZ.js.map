{"version":3,"file":"Login.91f0JvKZ.js","sources":["../../../src/store/user.ts","../../../src/api/user.ts","../../../src/view/Login.vue"],"sourcesContent":["import { defineStore } from 'pinia'\r\n\r\nexport const useMainStore = defineStore('main', {\r\n  // state 存储全局状态\r\n  state: () => ({\r\n    count: 88,\r\n    name: 'Pinia'\r\n  }),\r\n  // getters 类似于计算属性\r\n  getters: {\r\n    doubleCount: (state) => state.count * 2\r\n  },\r\n  // actions 用于修改状态\r\n  actions: {\r\n    increment() {\r\n      this.count++\r\n    },\r\n    updateName(newName: string) {\r\n      this.name = newName\r\n    }\r\n  }\r\n})\r\n","import request from '@/utils/request'\n\n/** 登录账号 */\nexport const loginAPI = <T>(url: string, data: any) => {\n  return request<T>(url, 'POST', data)\n}\n","<script setup lang=\"ts\">\nimport { loginAPI } from '@/api/user'\nimport { setToken } from '@/utils/token'\nimport { useMainStore } from '@/store'\nimport { useRouter } from 'vue-router'\nconst router = useRouter()\n\nconst store = useMainStore()\n\n/** 登录 */\nasync function login() {\n  const { data } = await loginAPI<{ data: string }>('/sys/login', { mobile: '13800000002', password: 'hm#qd@23!' })\n  setToken(data)\n  router.replace({ name: 'Home' })\n}\n</script>\n\n<template>\n  <div class=\"user\">\n    <el-button type=\"primary\" @click=\"login\">登录</el-button>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.user {\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n}\n</style>\n"],"names":["useMainStore","defineStore","state","newName","loginAPI","url","data","request","router","useRouter","login","setToken"],"mappings":"o0BAEa,MAAAA,EAAeC,EAAY,OAAQ,CAE9C,MAAO,KAAO,CACZ,MAAO,GACP,KAAM,OAAA,GAGR,QAAS,CACP,YAAcC,GAAUA,EAAM,MAAQ,CACxC,EAEA,QAAS,CACP,WAAY,CACL,KAAA,OACP,EACA,WAAWC,EAAiB,CAC1B,KAAK,KAAOA,CAAA,CACd,CAEJ,CAAC,EClBYC,EAAW,CAAIC,EAAaC,IAChCC,EAAWF,EAAK,OAAQC,CAAI,gDCCrC,MAAME,EAASC,EAAU,EAEXT,EAAa,EAG3B,eAAeU,GAAQ,CACf,KAAA,CAAE,KAAAJ,GAAS,MAAMF,EAA2B,aAAc,CAAE,OAAQ,cAAe,SAAU,YAAa,EAChHO,EAASL,CAAI,EACbE,EAAO,QAAQ,CAAE,KAAM,MAAA,CAAQ,CAAA"}